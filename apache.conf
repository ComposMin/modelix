<VirtualHost *:80>
        ServerName webmps.q60.de
        DocumentRoot /home/sascha/webmps/ui-client/dist

        ProxyRequests Off
        <Proxy *>
                Order deny,allow
                Allow from all
        </Proxy>

        RewriteEngine On
        RewriteCond %{HTTP:Upgrade} =websocket [NC]
        RewriteRule /model/(.*)           ws://localhost:28101/$1 [P,L]
        RewriteCond %{HTTP:Upgrade} !=websocket [NC]
        RewriteRule /model/(.*)           http://localhost:28101/$1 [P,L]

        RewriteEngine On
        RewriteCond %{HTTP:Upgrade} =websocket [NC]
        RewriteRule /svgui/(.*)           ws://localhost:8391/$1 [P,L]
        RewriteCond %{HTTP:Upgrade} !=websocket [NC]
        RewriteRule /svgui/(.*)           http://localhost:8391/$1 [P,L]
</VirtualHost>

<Directory /home/sascha/webmps/ui-client/dist>
	Require all granted
</Directory>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
